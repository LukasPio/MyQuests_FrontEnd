"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.renderIcon=void 0;var _privateProps=_interopRequireDefault(require("../../../privateProps.js"));var _classes=require("../../classes.js");var dom=_interopRequireWildcard(require("../../dom/index.js"));var _utils=require("../../utils.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n["default"]=e,t&&t.set(e,n),n}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}/**
 * @param {SweetAlert} instance
 * @param {SweetAlertOptions} params
 */var renderIcon=exports.renderIcon=function renderIcon(instance,params){var innerParams=_privateProps["default"].innerParams.get(instance);var icon=dom.getIcon();if(!icon){return}// if the given icon already rendered, apply the styling without re-rendering the icon
if(innerParams&&params.icon===innerParams.icon){// Custom or default content
setContent(icon,params);applyStyles(icon,params);return}if(!params.icon&&!params.iconHtml){dom.hide(icon);return}if(params.icon&&Object.keys(_classes.iconTypes).indexOf(params.icon)===-1){(0,_utils.error)("Unknown icon! Expected \"success\", \"error\", \"warning\", \"info\" or \"question\", got \"".concat(params.icon,"\""));dom.hide(icon);return}dom.show(icon);// Custom or default content
setContent(icon,params);applyStyles(icon,params);// Animate icon
dom.addClass(icon,params.showClass&&params.showClass.icon)};/**
 * @param {HTMLElement} icon
 * @param {SweetAlertOptions} params
 */var applyStyles=function applyStyles(icon,params){for(var _i=0,_Object$entries=Object.entries(_classes.iconTypes);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),iconType=_Object$entries$_i[0],iconClassName=_Object$entries$_i[1];if(params.icon!==iconType){dom.removeClass(icon,iconClassName)}}dom.addClass(icon,params.icon&&_classes.iconTypes[params.icon]);// Icon color
setColor(icon,params);// Success icon background color
adjustSuccessIconBackgroundColor();// Custom class
dom.applyCustomClass(icon,params,"icon")};// Adjust success icon background color to match the popup background color
var adjustSuccessIconBackgroundColor=function adjustSuccessIconBackgroundColor(){var popup=dom.getPopup();if(!popup){return}var popupBackgroundColor=window.getComputedStyle(popup).getPropertyValue("background-color");/** @type {NodeListOf<HTMLElement>} */var successIconParts=popup.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(var i=0;i<successIconParts.length;i++){successIconParts[i].style.backgroundColor=popupBackgroundColor}};var successIconHtml="\n  <div class=\"swal2-success-circular-line-left\"></div>\n  <span class=\"swal2-success-line-tip\"></span> <span class=\"swal2-success-line-long\"></span>\n  <div class=\"swal2-success-ring\"></div> <div class=\"swal2-success-fix\"></div>\n  <div class=\"swal2-success-circular-line-right\"></div>\n";var errorIconHtml="\n  <span class=\"swal2-x-mark\">\n    <span class=\"swal2-x-mark-line-left\"></span>\n    <span class=\"swal2-x-mark-line-right\"></span>\n  </span>\n";/**
 * @param {HTMLElement} icon
 * @param {SweetAlertOptions} params
 */var setContent=function setContent(icon,params){if(!params.icon&&!params.iconHtml){return}var oldContent=icon.innerHTML;var newContent="";if(params.iconHtml){newContent=iconContent(params.iconHtml)}else if(params.icon==="success"){newContent=successIconHtml;oldContent=oldContent.replace(/ style=".*?"/g,"");// undo adjustSuccessIconBackgroundColor()
}else if(params.icon==="error"){newContent=errorIconHtml}else if(params.icon){var defaultIconHtml={question:"?",warning:"!",info:"i"};newContent=iconContent(defaultIconHtml[params.icon])}if(oldContent.trim()!==newContent.trim()){dom.setInnerHtml(icon,newContent)}};/**
 * @param {HTMLElement} icon
 * @param {SweetAlertOptions} params
 */var setColor=function setColor(icon,params){if(!params.iconColor){return}icon.style.color=params.iconColor;icon.style.borderColor=params.iconColor;for(var _i2=0,_arr=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];_i2<_arr.length;_i2++){var sel=_arr[_i2];dom.setStyle(icon,sel,"background-color",params.iconColor)}dom.setStyle(icon,".swal2-success-ring","border-color",params.iconColor)};/**
 * @param {string} content
 * @returns {string}
 */var iconContent=function iconContent(content){return"<div class=\"".concat(_classes.swalClasses["icon-content"],"\">").concat(content,"</div>")};