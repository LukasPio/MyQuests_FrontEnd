"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toggleClass=exports.toggle=exports.stopTimerProgressBar=exports.showWhenInnerHtmlPresent=exports.show=exports.setStyle=exports.setInnerHtml=exports.removeClass=exports.isVisible=exports.isScrollable=exports.hide=exports.hasCssAnimation=exports.hasClass=exports.getInput=exports.getDirectChildByClass=exports.focusInput=exports.applyNumericalStyle=exports.applyCustomClass=exports.animateTimerProgressBar=exports.allButtonsAreHidden=exports.addClass=void 0;var _classes=require("../classes.js");var _utils=require("../utils.js");var _getters=require("./getters.js");function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}/**
 * Securely set innerHTML of an element
 * https://github.com/sweetalert2/sweetalert2/issues/1926
 *
 * @param {HTMLElement} elem
 * @param {string} html
 */var setInnerHtml=exports.setInnerHtml=function setInnerHtml(elem,html){elem.textContent="";if(html){var parser=new DOMParser;var parsed=parser.parseFromString(html,"text/html");var head=parsed.querySelector("head");head&&Array.from(head.childNodes).forEach(function(child){elem.appendChild(child)});var body=parsed.querySelector("body");body&&Array.from(body.childNodes).forEach(function(child){if(child instanceof HTMLVideoElement||child instanceof HTMLAudioElement){elem.appendChild(child.cloneNode(true));// https://github.com/sweetalert2/sweetalert2/issues/2507
}else{elem.appendChild(child)}})}};/**
 * @param {HTMLElement} elem
 * @param {string} className
 * @returns {boolean}
 */var hasClass=exports.hasClass=function hasClass(elem,className){if(!className){return false}var classList=className.split(/\s+/);for(var i=0;i<classList.length;i++){if(!elem.classList.contains(classList[i])){return false}}return true};/**
 * @param {HTMLElement} elem
 * @param {SweetAlertOptions} params
 */var removeCustomClasses=function removeCustomClasses(elem,params){Array.from(elem.classList).forEach(function(className){if(!Object.values(_classes.swalClasses).includes(className)&&!Object.values(_classes.iconTypes).includes(className)&&!Object.values(params.showClass||{}).includes(className)){elem.classList.remove(className)}})};/**
 * @param {HTMLElement} elem
 * @param {SweetAlertOptions} params
 * @param {string} className
 */var applyCustomClass=exports.applyCustomClass=function applyCustomClass(elem,params,className){removeCustomClasses(elem,params);if(params.customClass&&params.customClass[className]){if(typeof params.customClass[className]!=="string"&&!params.customClass[className].forEach){(0,_utils.warn)("Invalid type of customClass.".concat(className,"! Expected string or iterable object, got \"").concat(_typeof(params.customClass[className]),"\""));return}addClass(elem,params.customClass[className])}};/**
 * @param {HTMLElement} popup
 * @param {import('./renderers/renderInput').InputClass | SweetAlertInput} inputClass
 * @returns {HTMLInputElement | null}
 */var getInput=exports.getInput=function getInput(popup,inputClass){if(!inputClass){return null}switch(inputClass){case"select":case"textarea":case"file":return popup.querySelector(".".concat(_classes.swalClasses.popup," > .").concat(_classes.swalClasses[inputClass]));case"checkbox":return popup.querySelector(".".concat(_classes.swalClasses.popup," > .").concat(_classes.swalClasses.checkbox," input"));case"radio":return popup.querySelector(".".concat(_classes.swalClasses.popup," > .").concat(_classes.swalClasses.radio," input:checked"))||popup.querySelector(".".concat(_classes.swalClasses.popup," > .").concat(_classes.swalClasses.radio," input:first-child"));case"range":return popup.querySelector(".".concat(_classes.swalClasses.popup," > .").concat(_classes.swalClasses.range," input"));default:return popup.querySelector(".".concat(_classes.swalClasses.popup," > .").concat(_classes.swalClasses.input))}};/**
 * @param {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} input
 */var focusInput=exports.focusInput=function focusInput(input){input.focus();// place cursor at end of text in text input
if(input.type!=="file"){// http://stackoverflow.com/a/2345915
var val=input.value;input.value="";input.value=val}};/**
 * @param {HTMLElement | HTMLElement[] | null} target
 * @param {string | string[] | readonly string[] | undefined} classList
 * @param {boolean} condition
 */var toggleClass=exports.toggleClass=function toggleClass(target,classList,condition){if(!target||!classList){return}if(typeof classList==="string"){classList=classList.split(/\s+/).filter(Boolean)}classList.forEach(function(className){if(Array.isArray(target)){target.forEach(function(elem){condition?elem.classList.add(className):elem.classList.remove(className)})}else{condition?target.classList.add(className):target.classList.remove(className)}})};/**
 * @param {HTMLElement | HTMLElement[] | null} target
 * @param {string | string[] | readonly string[] | undefined} classList
 */var addClass=exports.addClass=function addClass(target,classList){toggleClass(target,classList,true)};/**
 * @param {HTMLElement | HTMLElement[] | null} target
 * @param {string | string[] | readonly string[] | undefined} classList
 */var removeClass=exports.removeClass=function removeClass(target,classList){toggleClass(target,classList,false)};/**
 * Get direct child of an element by class name
 *
 * @param {HTMLElement} elem
 * @param {string} className
 * @returns {HTMLElement | undefined}
 */var getDirectChildByClass=exports.getDirectChildByClass=function getDirectChildByClass(elem,className){var children=Array.from(elem.children);for(var i=0;i<children.length;i++){var child=children[i];if(child instanceof HTMLElement&&hasClass(child,className)){return child}}};/**
 * @param {HTMLElement} elem
 * @param {string} property
 * @param {*} value
 */var applyNumericalStyle=exports.applyNumericalStyle=function applyNumericalStyle(elem,property,value){if(value==="".concat(parseInt(value))){value=parseInt(value)}if(value||parseInt(value)===0){elem.style.setProperty(property,typeof value==="number"?"".concat(value,"px"):value)}else{elem.style.removeProperty(property)}};/**
 * @param {HTMLElement | null} elem
 * @param {string} display
 */var show=exports.show=function show(elem){var display=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"flex";elem&&(elem.style.display=display)};/**
 * @param {HTMLElement | null} elem
 */var hide=exports.hide=function hide(elem){elem&&(elem.style.display="none")};/**
 * @param {HTMLElement | null} elem
 * @param {string} display
 */var showWhenInnerHtmlPresent=exports.showWhenInnerHtmlPresent=function showWhenInnerHtmlPresent(elem){var display=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"block";if(!elem){return}new MutationObserver(function(){toggle(elem,elem.innerHTML,display)}).observe(elem,{childList:true,subtree:true})};/**
 * @param {HTMLElement} parent
 * @param {string} selector
 * @param {string} property
 * @param {string} value
 */var setStyle=exports.setStyle=function setStyle(parent,selector,property,value){/** @type {HTMLElement | null} */var el=parent.querySelector(selector);if(el){el.style.setProperty(property,value)}};/**
 * @param {HTMLElement} elem
 * @param {any} condition
 * @param {string} display
 */var toggle=exports.toggle=function toggle(elem,condition){var display=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"flex";condition?show(elem,display):hide(elem)};/**
 * borrowed from jquery $(elem).is(':visible') implementation
 *
 * @param {HTMLElement | null} elem
 * @returns {boolean}
 */var isVisible=exports.isVisible=function isVisible(elem){return!!(elem&&(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length))};/**
 * @returns {boolean}
 */var allButtonsAreHidden=exports.allButtonsAreHidden=function allButtonsAreHidden(){return!isVisible((0,_getters.getConfirmButton)())&&!isVisible((0,_getters.getDenyButton)())&&!isVisible((0,_getters.getCancelButton)())};/**
 * @param {HTMLElement} elem
 * @returns {boolean}
 */var isScrollable=exports.isScrollable=function isScrollable(elem){return!!(elem.scrollHeight>elem.clientHeight)};/**
 * borrowed from https://stackoverflow.com/a/46352119
 *
 * @param {HTMLElement} elem
 * @returns {boolean}
 */var hasCssAnimation=exports.hasCssAnimation=function hasCssAnimation(elem){var style=window.getComputedStyle(elem);var animDuration=parseFloat(style.getPropertyValue("animation-duration")||"0");var transDuration=parseFloat(style.getPropertyValue("transition-duration")||"0");return animDuration>0||transDuration>0};/**
 * @param {number} timer
 * @param {boolean} reset
 */var animateTimerProgressBar=exports.animateTimerProgressBar=function animateTimerProgressBar(timer){var reset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var timerProgressBar=(0,_getters.getTimerProgressBar)();if(!timerProgressBar){return}if(isVisible(timerProgressBar)){if(reset){timerProgressBar.style.transition="none";timerProgressBar.style.width="100%"}setTimeout(function(){timerProgressBar.style.transition="width ".concat(timer/1000,"s linear");timerProgressBar.style.width="0%"},10)}};var stopTimerProgressBar=exports.stopTimerProgressBar=function stopTimerProgressBar(){var timerProgressBar=(0,_getters.getTimerProgressBar)();if(!timerProgressBar){return}var timerProgressBarWidth=parseInt(window.getComputedStyle(timerProgressBar).width);timerProgressBar.style.removeProperty("transition");timerProgressBar.style.width="100%";var timerProgressBarFullWidth=parseInt(window.getComputedStyle(timerProgressBar).width);var timerProgressBarPercent=timerProgressBarWidth/timerProgressBarFullWidth*100;timerProgressBar.style.width="".concat(timerProgressBarPercent,"%")};