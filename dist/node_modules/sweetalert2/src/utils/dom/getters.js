"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isToast=exports.isModal=exports.isLoading=exports.getValidationMessage=exports.getTitle=exports.getTimerProgressBar=exports.getProgressSteps=exports.getPopup=exports.getLoader=exports.getInputLabel=exports.getImage=exports.getIconContent=exports.getIcon=exports.getHtmlContainer=exports.getFooter=exports.getFocusableElements=exports.getDenyButton=exports.getContainer=exports.getConfirmButton=exports.getCloseButton=exports.getCancelButton=exports.getActions=exports.elementBySelector=void 0;var _classes=require("../classes.js");var _domUtils=require("./domUtils.js");function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}/**
 * Gets the popup container which contains the backdrop and the popup itself.
 *
 * @returns {HTMLElement | null}
 */var getContainer=exports.getContainer=function getContainer(){return document.body.querySelector(".".concat(_classes.swalClasses.container))};/**
 * @param {string} selectorString
 * @returns {HTMLElement | null}
 */var elementBySelector=exports.elementBySelector=function elementBySelector(selectorString){var container=getContainer();return container?container.querySelector(selectorString):null};/**
 * @param {string} className
 * @returns {HTMLElement | null}
 */var elementByClass=function elementByClass(className){return elementBySelector(".".concat(className))};/**
 * @returns {HTMLElement | null}
 */var getPopup=exports.getPopup=function getPopup(){return elementByClass(_classes.swalClasses.popup)};/**
 * @returns {HTMLElement | null}
 */var getIcon=exports.getIcon=function getIcon(){return elementByClass(_classes.swalClasses.icon)};/**
 * @returns {HTMLElement | null}
 */var getIconContent=exports.getIconContent=function getIconContent(){return elementByClass(_classes.swalClasses["icon-content"])};/**
 * @returns {HTMLElement | null}
 */var getTitle=exports.getTitle=function getTitle(){return elementByClass(_classes.swalClasses.title)};/**
 * @returns {HTMLElement | null}
 */var getHtmlContainer=exports.getHtmlContainer=function getHtmlContainer(){return elementByClass(_classes.swalClasses["html-container"])};/**
 * @returns {HTMLElement | null}
 */var getImage=exports.getImage=function getImage(){return elementByClass(_classes.swalClasses.image)};/**
 * @returns {HTMLElement | null}
 */var getProgressSteps=exports.getProgressSteps=function getProgressSteps(){return elementByClass(_classes.swalClasses["progress-steps"])};/**
 * @returns {HTMLElement | null}
 */var getValidationMessage=exports.getValidationMessage=function getValidationMessage(){return elementByClass(_classes.swalClasses["validation-message"])};/**
 * @returns {HTMLButtonElement | null}
 */var getConfirmButton=exports.getConfirmButton=function getConfirmButton(){return/** @type {HTMLButtonElement} */elementBySelector(".".concat(_classes.swalClasses.actions," .").concat(_classes.swalClasses.confirm))};/**
 * @returns {HTMLButtonElement | null}
 */var getCancelButton=exports.getCancelButton=function getCancelButton(){return/** @type {HTMLButtonElement} */elementBySelector(".".concat(_classes.swalClasses.actions," .").concat(_classes.swalClasses.cancel))};/**
 * @returns {HTMLButtonElement | null}
 */var getDenyButton=exports.getDenyButton=function getDenyButton(){return/** @type {HTMLButtonElement} */elementBySelector(".".concat(_classes.swalClasses.actions," .").concat(_classes.swalClasses.deny))};/**
 * @returns {HTMLElement | null}
 */var getInputLabel=exports.getInputLabel=function getInputLabel(){return elementByClass(_classes.swalClasses["input-label"])};/**
 * @returns {HTMLElement | null}
 */var getLoader=exports.getLoader=function getLoader(){return elementBySelector(".".concat(_classes.swalClasses.loader))};/**
 * @returns {HTMLElement | null}
 */var getActions=exports.getActions=function getActions(){return elementByClass(_classes.swalClasses.actions)};/**
 * @returns {HTMLElement | null}
 */var getFooter=exports.getFooter=function getFooter(){return elementByClass(_classes.swalClasses.footer)};/**
 * @returns {HTMLElement | null}
 */var getTimerProgressBar=exports.getTimerProgressBar=function getTimerProgressBar(){return elementByClass(_classes.swalClasses["timer-progress-bar"])};/**
 * @returns {HTMLElement | null}
 */var getCloseButton=exports.getCloseButton=function getCloseButton(){return elementByClass(_classes.swalClasses.close)};// https://github.com/jkup/focusable/blob/master/index.js
var focusable="\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex=\"0\"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n";/**
 * @returns {HTMLElement[]}
 */var getFocusableElements=exports.getFocusableElements=function getFocusableElements(){var popup=getPopup();if(!popup){return[]}/** @type {NodeListOf<HTMLElement>} */var focusableElementsWithTabindex=popup.querySelectorAll("[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])");var focusableElementsWithTabindexSorted=Array.from(focusableElementsWithTabindex)// sort according to tabindex
.sort(function(a,b){var tabindexA=parseInt(a.getAttribute("tabindex")||"0");var tabindexB=parseInt(b.getAttribute("tabindex")||"0");if(tabindexA>tabindexB){return 1}else if(tabindexA<tabindexB){return-1}return 0});/** @type {NodeListOf<HTMLElement>} */var otherFocusableElements=popup.querySelectorAll(focusable);var otherFocusableElementsFiltered=Array.from(otherFocusableElements).filter(function(el){return el.getAttribute("tabindex")!=="-1"});return _toConsumableArray(new Set(focusableElementsWithTabindexSorted.concat(otherFocusableElementsFiltered))).filter(function(el){return(0,_domUtils.isVisible)(el)})};/**
 * @returns {boolean}
 */var isModal=exports.isModal=function isModal(){return(0,_domUtils.hasClass)(document.body,_classes.swalClasses.shown)&&!(0,_domUtils.hasClass)(document.body,_classes.swalClasses["toast-shown"])&&!(0,_domUtils.hasClass)(document.body,_classes.swalClasses["no-backdrop"])};/**
 * @returns {boolean}
 */var isToast=exports.isToast=function isToast(){var popup=getPopup();if(!popup){return false}return(0,_domUtils.hasClass)(popup,_classes.swalClasses.toast)};/**
 * @returns {boolean}
 */var isLoading=exports.isLoading=function isLoading(){var popup=getPopup();if(!popup){return false}return popup.hasAttribute("data-loading")};